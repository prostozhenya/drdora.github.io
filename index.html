<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∞ üíñ</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  body {
    margin: 0;
    overflow: hidden;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background: url('images/dasha_bg.jpg') no-repeat center center / cover;
    position: relative;
    color: white;
  }

  /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
  h1 {
    position: absolute;
    top: 10%;
    font-size: 3em;
    text-align: center;
    color: #ff99cc;
    text-shadow: 0 0 10px #ff66cc, 0 0 30px #ff66ff;
    opacity: 0;
    animation: fadeIn 3s forwards;
  }
  @keyframes fadeIn {
    to { opacity: 1; }
  }

  /* –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –º—É–∑—ã–∫–∏ */
  #playButton {
    padding: 15px 40px;
    font-size: 1.3em;
    border: none;
    border-radius: 25px;
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(255,102,204,0.6);
    transition: 0.3s;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }
  #playButton:hover {
    transform: translateY(-50%) scale(1.1);
    box-shadow: 0 0 40px rgba(255,102,204,0.9);
  }

  /* –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä - –≤–æ–ª–Ω—ã */
  #waveEqualizer {
    position: absolute;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    max-width: 800px;
    height: 120px;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    pointer-events: none;
  }

  .wave {
    flex: 1;
    margin: 0 6px;
    height: 50px;
    border-radius: 60% / 100%;
    background: linear-gradient(135deg, rgba(255,182,193,0.4), rgba(255,105,180,0.9));
    box-shadow:
      0 0 15px rgba(255,105,180,0.7),
      inset 0 0 15px rgba(255,182,193,0.5);
    transition: height 0.1s ease, opacity 0.1s ease;
    filter: drop-shadow(0 0 10px rgba(255,105,180,0.5));
  }

  /* –§–æ—Ç–æ –î–∞—à–∏ */
  .photo {
    position: absolute;
    width: 140px;
    height: 140px;
    border-radius: 20px;
    object-fit: cover;
    pointer-events: none;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 20px rgba(255,102,204,0.8), 0 0 40px rgba(255,102,255,0.5);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  /* Footer */
  footer {
    position: absolute;
    bottom: 20px;
    text-align: center;
    font-size: 14px;
    color: #ff99cc;
  }
  footer a {
    color: #ff66cc;
    text-decoration: none;
    margin: 0 6px;
  }
</style>
</head>
<body>

<h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∞ üéÇüí´</h1>
<button id="playButton">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –º—É–∑—ã–∫—É üéµ</button>
<audio id="bgm" loop>
  <source src="music/papa_temnogo_princa.mp3" type="audio/mpeg" />
</audio>

<footer>
  designed by <b>prostozhenyaaa</b><br />
  <a href="#">Instagram</a> | <a href="#">VK</a> | <a href="#">Telegram</a>
</footer>

<script>
  const photos = [
    "images/dasha1.jpg",
    "images/dasha2.jpg",
    "images/dasha3.jpg",
    "images/dasha4.jpg"
  ];

  const bgm = document.getElementById('bgm');
  const playButton = document.getElementById('playButton');

  // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–æ–ª–Ω —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞
  const waveEqualizer = document.createElement('div');
  waveEqualizer.id = 'waveEqualizer';
  document.body.appendChild(waveEqualizer);

  const waveCount = 20;
  const waves = [];

  for(let i = 0; i < waveCount; i++){
    const wave = document.createElement('div');
    wave.classList.add('wave');
    waveEqualizer.appendChild(wave);
    waves.push(wave);
  }

  function animateWaveEqualizer(){
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const source = audioCtx.createMediaElementSource(bgm);
    const analyser = audioCtx.createAnalyser();
    analyser.fftSize = 256;
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    const dataArray = new Uint8Array(analyser.frequencyBinCount);

    function render(){
      requestAnimationFrame(render);
      analyser.getByteFrequencyData(dataArray);

      waves.forEach((wave, i) => {
        const value = dataArray[i % dataArray.length];
        // –í—ã—Å–æ—Ç–∞ –≤–æ–ª–Ω—ã 40 - 140px (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç–∏)
        const height = 40 + (value / 255) * 100;
        wave.style.height = height + 'px';
        // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç–∏
        wave.style.opacity = 0.3 + (value / 255) * 0.7;
        // –°–¥–≤–∏–≥ —Ü–≤–µ—Ç–∞ –¥–ª—è –¥–∏–Ω–∞–º–∏–∫–∏
        const hueShift = (value / 255) * 50;
        wave.style.filter = `drop-shadow(0 0 10px hsl(${320 + hueShift}, 80%, 70%))`;
      });
    }
    render();
  }

  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–æ—Ç–æ –î–∞—à–∏ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
  function easeOutQuad(t){return t*(2-t);}
  function easeInQuad(t){return t*t;}
  function spawnPhoto() {
    const photo = document.createElement('img');
    photo.src = photos[Math.floor(Math.random() * photos.length)];
    photo.classList.add('photo');
    photo.style.left = (50 + Math.random() * (window.innerWidth - 100)) + 'px';
    document.body.appendChild(photo);
    let start = Date.now();
    const duration = 3500 + Math.random() * 2000;
    const startY = -250;
    const endY = window.innerHeight / 2 - 70;
    const maxScale = 1.5 + Math.random() * 0.5;
    function animatePhoto() {
      const now = Date.now();
      const t = (now - start) / duration;
      if (t < 1) {
        const y = startY + (endY - startY) * easeOutQuad(t);
        const scale = 1 + (maxScale - 1) * easeOutQuad(t);
        const rotate = t * 720;
        const opacity = Math.sin(t * Math.PI);
        photo.style.transform = `translate(-50%, ${y}px) scale(${scale}) rotate(${rotate}deg)`;
        photo.style.opacity = opacity;
        requestAnimationFrame(animatePhoto);
      } else {
        start = Date.now();
        const currentScale = maxScale;
        const currentY = endY;
        function returnAnimate() {
          const t2 = (Date.now() - start) / duration;
          if (t2 < 1) {
            const y = currentY - (currentY - startY) * easeInQuad(t2);
            const scale = currentScale - (currentScale - 1) * easeInQuad(t2);
            const rotate = 720 + t2 * 720;
            const opacity = Math.cos(t2 * Math.PI / 2);
            photo.style.transform = `translate(-50%, ${y}px) scale(${scale}) rotate(${rotate}deg)`;
            photo.style.opacity = opacity;
            requestAnimationFrame(returnAnimate);
          } else {
            photo.remove();
          }
        }
        returnAnimate();
      }
    }
    animatePhoto();
  }

  // –ó–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏, –≤–æ–ª–Ω–æ–≤–æ–≥–æ —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞ –∏ —Ñ–æ—Ç–æ
  playButton.addEventListener('click', () => {
    bgm.play().then(() => {
      animateWaveEqualizer();
      setInterval(spawnPhoto, 1500);
      playButton.style.display = 'none';
    });
  });
</script>
</body>
</html>
