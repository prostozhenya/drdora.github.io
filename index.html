<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∞ üíñ</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
      margin: 0;
      overflow: hidden;
      height: 100vh;
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;

      /* Liquid glass —Ñ–æ–Ω */
      background: linear-gradient(135deg, rgba(58, 20, 54, 0.9), rgba(75, 38, 78, 0.9));
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      position: relative;
      color: #ff99cc;
    }

    h1 {
      position: absolute;
      top: 10%;
      font-size: 3em;
      text-align: center;
      color: #ff99cc;
      text-shadow: 0 0 10px #ff66cc, 0 0 30px #ff66ff;
      opacity: 0;
      animation: fadeIn 3s forwards;
      user-select: none;
    }
    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    #playButton {
      padding: 15px 40px;
      font-size: 1.3em;
      border: none;
      border-radius: 25px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px) saturate(180%);
      -webkit-backdrop-filter: blur(12px) saturate(180%);
      color: #fff;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(255, 102, 204, 0.6);
      transition: 0.3s;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      user-select: none;
    }
    #playButton:hover {
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 0 40px rgba(255, 102, 204, 0.9);
    }

    /* –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä –≤ —Å—Ç–∏–ª–µ liquid glass */
    #equalizer {
      position: absolute;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      height: 100px;
      border-radius: 25px;
      background: rgba(255, 255, 255, 0.12);
      box-shadow:
        inset 0 0 15px rgba(255, 255, 255, 0.25),
        0 8px 32px 0 rgba(120, 0, 120, 0.4);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      overflow: visible;
      pointer-events: none;
    }
    #equalizer canvas {
      width: 100%;
      height: 100%;
      display: block;
      border-radius: 25px;
    }

    /* –§–æ—Ç–æ –î–∞—à–∏ */
    .photo {
      position: absolute;
      width: 140px;
      height: 140px;
      border-radius: 20px;
      object-fit: cover;
      pointer-events: none;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 20px rgba(255, 102, 204, 0.8),
        0 0 40px rgba(255, 102, 255, 0.5);
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    /* Footer */
    footer {
      position: absolute;
      bottom: 20px;
      text-align: center;
      font-size: 14px;
      color: #ff99cc;
      user-select: none;
    }
    footer a {
      color: #ff66cc;
      text-decoration: none;
      margin: 0 6px;
    }
  </style>
</head>
<body>
  <h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∞ üéÇüí´</h1>
  <button id="playButton">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –º—É–∑—ã–∫—É üéµ</button>
  <audio id="bgm" loop>
    <source src="music/papa_temnogo_princa.mp3" type="audio/mpeg" />
  </audio>
  <div id="equalizer"><canvas></canvas></div>
  <footer>
    designed by <b>prostozhenyaaa</b><br />
    <a href="#">Instagram</a> | <a href="#">VK</a> | <a href="#">Telegram</a>
  </footer>

  <script>
    const photos = [
      "images/dasha1.jpg",
      "images/dasha2.jpg",
      "images/dasha3.jpg",
      "images/dasha4.jpg",
    ];
    const equalizer = document.getElementById("equalizer");
    const canvas = equalizer.querySelector("canvas");
    const ctx = canvas.getContext("2d");
    const bgm = document.getElementById("bgm");
    const playButton = document.getElementById("playButton");

    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä canvas –ø–æ–¥ —ç–ª–µ–º–µ–Ω—Ç
    function resizeCanvas() {
      canvas.width = equalizer.clientWidth * window.devicePixelRatio;
      canvas.height = equalizer.clientHeight * window.devicePixelRatio;
      ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
    }
    resizeCanvas();
    window.addEventListener("resize", () => {
      resizeCanvas();
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –≤–æ–ª–Ω—ã —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞
    let audioCtx, analyser, source, dataArray;

    function setupAudio() {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      source = audioCtx.createMediaElementSource(bgm);
      analyser = audioCtx.createAnalyser();
      analyser.fftSize = 128;
      source.connect(analyser);
      analyser.connect(audioCtx.destination);
      dataArray = new Uint8Array(analyser.frequencyBinCount);
    }

    function drawWave() {
      requestAnimationFrame(drawWave);
      analyser.getByteFrequencyData(dataArray);

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const width = canvas.width / window.devicePixelRatio;
      const height = canvas.height / window.devicePixelRatio;

      ctx.lineJoin = "round";
      ctx.lineCap = "round";

      // –ü–ª–∞–≤–Ω–∞—è –≤–æ–ª–Ω–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –±–ª–µ—Å–∫–∞
      const gradient = ctx.createLinearGradient(0, 0, width, 0);
      gradient.addColorStop(0, "rgba(255,102,204,0.7)");
      gradient.addColorStop(0.5, "rgba(255,51,170,0.8)");
      gradient.addColorStop(1, "rgba(204,51,255,0.7)");

      ctx.strokeStyle = gradient;
      ctx.lineWidth = 4;

      ctx.beginPath();
      const pointsCount = 50;
      for (let i = 0; i < pointsCount; i++) {
        const x = (i / (pointsCount - 1)) * width;
        const freqIndex = Math.floor((i / pointsCount) * dataArray.length);
        const amp = dataArray[freqIndex] / 255;
        const y =
          height / 2 +
          Math.sin((i / pointsCount) * Math.PI * 4 + performance.now() / 500) *
            15 *
            amp;
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.stroke();

      // –ë–ª–∏–∫–∏ ‚Äî –ª–µ–≥–∫–∏–π —Å–≤–µ—Ç—è—â–∏–π—Å—è —ç—Ñ—Ñ–µ–∫—Ç
      for (let i = 0; i < pointsCount; i += 10) {
        const x = (i / (pointsCount - 1)) * width;
        const freqIndex = Math.floor((i / pointsCount) * dataArray.length);
        const amp = dataArray[freq]()
